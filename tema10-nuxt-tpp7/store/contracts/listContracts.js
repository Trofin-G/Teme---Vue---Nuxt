export const state = () => ({
  listContracts: [
    {
      id: "1",
      statusContract: "Semnat",
      tipContract: {
        cui: "1143312",
        tip: "T4 cu Surcharge",
      },
      dateContract: {
        numarContract: "531",
        dataContract: "12-12-2022",
        numeAgent: "Marcel",

        numeCompanie: "Shop & Go Titulescu 258 srl",
        cui: "432423",
        j: "4324",
        adresaSediu: "Strada caramida",
        telefonCompanie: "0752423523",
        faxCompanie: "0752423523",
        numeReprezentantLegal: "Georgel",
        calitateReprezentantLegat: "Avocat",
        ciSeria: "bt342",
        ciNumar: "432",
        cnp: "12345678901234",
        telefon: "0752861234",
        email: "test@gmail.com",
        metodaTrimitereFactura: "Select 1",
        metodaInformatiiPlata: "Select 2",
        numarContBancar: "RO0423423523523",
        banca: "BRD",
        sucursala: "Iasi 2",
        metodaPlata: "Select 1",
        garantii: "Cec încasabil în orice moment cu valoare de 6.000 RON",

        numeMagazin: "Caramizi bune",
        judet: "Iasi",
        localitate: "Iasi",
        adresa: "strada cu caramizi nr4",
        numarPunctLucru: "2",
      },
    },
    {
      id: "2",
      statusContract: "Refuzat",
      tipContract: {
        cui: "2143312",
        tip: "Payzone",
      },
      dateContract: {
        numarContract: "421",
        dataContract: "12-12-2022",
        numeAgent: "Marcel",

        numeCompanie: "SC Construct Imprex Export SRL",
        cui: "432423",
        j: "4324",
        adresaSediu: "Strada caramida",
        telefonCompanie: "0752423523",
        faxCompanie: "0752423523",
        numeReprezentantLegal: "Georgel",
        calitateReprezentantLegat: "Avocat",
        ciSeria: "bt342",
        ciNumar: "432",
        cnp: "12345678901234",
        telefon: "0752861234",
        email: "test@gmail.com",
        metodaTrimitereFactura: "Select 1",
        metodaInformatiiPlata: "Select 2",
        numarContBancar: "RO0423423523523",
        banca: "BRD",
        sucursala: "Iasi 2",
        metodaPlata: "Select 1",
        garantii: "Cec încasabil în orice moment cu valoare de 6.000 RON",

        numeMagazin: "Caramizi bune",
        judet: "Iasi",
        localitate: "Iasi",
        adresa: "strada cu caramizi nr4",
        numarPunctLucru: "2",
      },
    },
    {
      id: "3",
      statusContract: "Aprobat",
      tipContract: {
        cui: "3143312",
        tip: "Colet Expres",
      },
      dateContract: {
        numarContract: "631",
        dataContract: "12-12-2022",
        numeAgent: "Marcel",

        numeCompanie: "Nokia Communications IRL srl",
        cui: "432423",
        j: "4324",
        adresaSediu: "Strada caramida",
        telefonCompanie: "0752423523",
        faxCompanie: "0752423523",
        numeReprezentantLegal: "Georgel",
        calitateReprezentantLegat: "Avocat",
        ciSeria: "bt342",
        ciNumar: "432",
        cnp: "12345678901234",
        telefon: "0752861234",
        email: "test@gmail.com",
        metodaTrimitereFactura: "Select 1",
        metodaInformatiiPlata: "Select 2",
        numarContBancar: "RO0423423523523",
        banca: "BRD",
        sucursala: "Iasi 2",
        metodaPlata: "Select 1",
        garantii: "Cec încasabil în orice moment cu valoare de 6.000 RON",

        numeMagazin: "Caramizi bune",
        judet: "Iasi",
        localitate: "Iasi",
        adresa: "strada cu caramizi nr4",
        numarPunctLucru: "2",
      },

      id: "4",
      statusContract: "In curs de validare",
      tipContract: {
        cui: "2143312",
        tip: "PC Solution",
      },
      dateContract: {
        numarContract: "231",
        dataContract: "12-12-2022",
        numeAgent: "Marcel",

        numeCompanie: "IKEA Furnitures Co.",
        cui: "432423",
        j: "4324",
        adresaSediu: "Strada caramida",
        telefonCompanie: "0752423523",
        faxCompanie: "0752423523",
        numeReprezentantLegal: "Georgel",
        calitateReprezentantLegat: "Avocat",
        ciSeria: "bt342",
        ciNumar: "432",
        cnp: "12345678901234",
        telefon: "0752861234",
        email: "test@gmail.com",
        metodaTrimitereFactura: "Select 1",
        metodaInformatiiPlata: "Select 2",
        numarContBancar: "RO0423423523523",
        banca: "BRD",
        sucursala: "Iasi 2",
        metodaPlata: "Select 1",
        garantii: "Cec încasabil în orice moment cu valoare de 6.000 RON",

        numeMagazin: "Caramizi bune",
        judet: "Iasi",
        localitate: "Iasi",
        adresa: "strada cu caramizi nr4",
        numarPunctLucru: "2",
      },
    },
    {
      id: "4",
      statusContract: "Semnat",
      tipContract: {
        cui: "4143312",
        tip: "T4 cu Surcharge",
      },
      dateContract: {
        numarContract: "331",
        dataContract: "12-12-2022",
        numeAgent: "Marcel",

        numeCompanie: "Shop & Go Titulescu 258 SRL",
        cui: "432423",
        j: "4324",
        adresaSediu: "Strada caramida",
        telefonCompanie: "0752423523",
        faxCompanie: "0752423523",
        numeReprezentantLegal: "Georgel",
        calitateReprezentantLegat: "Avocat",
        ciSeria: "bt342",
        ciNumar: "432",
        cnp: "12345678901234",
        telefon: "0752861234",
        email: "test@gmail.com",
        metodaTrimitereFactura: "Select 1",
        metodaInformatiiPlata: "Select 2",
        numarContBancar: "RO0423423523523",
        banca: "BRD",
        sucursala: "Iasi 2",
        metodaPlata: "Select 1",
        garantii: "Cec încasabil în orice moment cu valoare de 6.000 RON",

        numeMagazin: "Caramizi bune",
        judet: "Iasi",
        localitate: "Iasi",
        adresa: "strada cu caramizi nr4",
        numarPunctLucru: "2",
      },
    },
    {
      id: "5",
      statusContract: "Semnat",
      tipContract: {
        cui: "5143312",
        tip: "Payzone",
      },
      dateContract: {
        numarContract: "2231",
        dataContract: "12-12-2022",
        numeAgent: "Marcel",

        numeCompanie: "Shop & Go Titulescu 258 srl",
        cui: "432423",
        j: "4324",
        adresaSediu: "Strada caramida",
        telefonCompanie: "0752423523",
        faxCompanie: "0752423523",
        numeReprezentantLegal: "Georgel",
        calitateReprezentantLegat: "Avocat",
        ciSeria: "bt342",
        ciNumar: "432",
        cnp: "12345678901234",
        telefon: "0752861234",
        email: "test@gmail.com",
        metodaTrimitereFactura: "Select 1",
        metodaInformatiiPlata: "Select 2",
        numarContBancar: "RO0423423523523",
        banca: "BRD",
        sucursala: "Iasi 2",
        metodaPlata: "Select 1",
        garantii: "Cec încasabil în orice moment cu valoare de 6.000 RON",

        numeMagazin: "Caramizi bune",
        judet: "Iasi",
        localitate: "Iasi",
        adresa: "strada cu caramizi nr4",
        numarPunctLucru: "2",
      },
    },
    {
      id: "6",
      statusContract: "Refuzat",
      tipContract: {
        cui: "6143312",
        tip: "Payzone",
      },
      dateContract: {
        numarContract: "2351",
        dataContract: "12-12-2022",
        numeAgent: "Marcel",

        numeCompanie: "SC Construct Imprex Export SRL",
        cui: "432423",
        j: "4324",
        adresaSediu: "Strada caramida",
        telefonCompanie: "0752423523",
        faxCompanie: "0752423523",
        numeReprezentantLegal: "Georgel",
        calitateReprezentantLegat: "Avocat",
        ciSeria: "bt342",
        ciNumar: "432",
        cnp: "12345678901234",
        telefon: "0752861234",
        email: "test@gmail.com",
        metodaTrimitereFactura: "Select 1",
        metodaInformatiiPlata: "Select 2",
        numarContBancar: "RO0423423523523",
        banca: "BRD",
        sucursala: "Iasi 2",
        metodaPlata: "Select 1",
        garantii: "Cec încasabil în orice moment cu valoare de 6.000 RON",

        numeMagazin: "Caramizi bune",
        judet: "Iasi",
        localitate: "Iasi",
        adresa: "strada cu caramizi nr4",
        numarPunctLucru: "2",
      },
    },
    {
      id: "7",
      statusContract: "Aprobat",
      tipContract: {
        cui: "8143312",
        tip: "Colet Expres",
      },
      dateContract: {
        numarContract: "11231",
        dataContract: "12-12-2022",
        numeAgent: "Marcel",

        numeCompanie: "Nokia Communications IRL SRL",
        cui: "432423",
        j: "4324",
        adresaSediu: "Strada caramida",
        telefonCompanie: "0752423523",
        faxCompanie: "0752423523",
        numeReprezentantLegal: "Georgel",
        calitateReprezentantLegat: "Avocat",
        ciSeria: "bt342",
        ciNumar: "432",
        cnp: "12345678901234",
        telefon: "0752861234",
        email: "test@gmail.com",
        metodaTrimitereFactura: "Select 1",
        metodaInformatiiPlata: "Select 2",
        numarContBancar: "RO0423423523523",
        banca: "BRD",
        sucursala: "Iasi 2",
        metodaPlata: "Select 1",
        garantii: "Cec încasabil în orice moment cu valoare de 6.000 RON",

        numeMagazin: "Caramizi bune",
        judet: "Iasi",
        localitate: "Iasi",
        adresa: "strada cu caramizi nr4",
        numarPunctLucru: "2",
      },
    },
    {
      id: "8",
      statusContract: "In curs de validare",
      tipContract: {
        cui: "7143312",
        tip: "PC Solution",
      },
      dateContract: {
        numarContract: "9231",
        dataContract: "12-12-2022",
        numeAgent: "Marcel",

        numeCompanie: "IKEA Furnitures Co. srl",
        cui: "432423",
        j: "4324",
        adresaSediu: "Strada caramida",
        telefonCompanie: "0752423523",
        faxCompanie: "0752423523",
        numeReprezentantLegal: "Georgel",
        calitateReprezentantLegat: "Avocat",
        ciSeria: "bt342",
        ciNumar: "432",
        cnp: "12345678901234",
        telefon: "0752861234",
        email: "test@gmail.com",
        metodaTrimitereFactura: "Select 1",
        metodaInformatiiPlata: "Select 2",
        numarContBancar: "RO0423423523523",
        banca: "BRD",
        sucursala: "Iasi 2",
        metodaPlata: "Select 1",
        garantii: "Cec încasabil în orice moment cu valoare de 6.000 RON",

        numeMagazin: "Caramizi bune",
        judet: "Iasi",
        localitate: "Iasi",
        adresa: "strada cu caramizi nr4",
        numarPunctLucru: "2",
      },
    },
    {
      id: "10",
      statusContract: "Nou",
      tipContract: {
        cui: "9143312",
        tip: "Contract standard",
      },
      dateContract: {
        numarContract: "231",
        dataContract: "12-12-2022",
        numeAgent: "Marcel",

        numeCompanie: "Apple Inc",
        cui: "432423",
        j: "4324",
        adresaSediu: "Strada caramida",
        telefonCompanie: "0752423523",
        faxCompanie: "0752423523",
        numeReprezentantLegal: "Georgel",
        calitateReprezentantLegat: "Avocat",
        ciSeria: "bt342",
        ciNumar: "432",
        cnp: "12345678901234",
        telefon: "0752861234",
        email: "test@gmail.com",
        metodaTrimitereFactura: "Select 1",
        metodaInformatiiPlata: "Select 2",
        numarContBancar: "RO0423423523523",
        banca: "BRD",
        sucursala: "Iasi 2",
        metodaPlata: "Select 1",
        garantii: "Cec încasabil în orice moment cu valoare de 6.000 RON",

        numeMagazin: "Caramizi bune",
        judet: "Iasi",
        localitate: "Iasi",
        adresa: "strada cu caramizi nr4",
        numarPunctLucru: "2",
      },
    },
    {
      id: "11",
      statusContract: "Nou",
      tipContract: {
        cui: "9143312",
        tip: "Contract standard",
      },
      dateContract: {
        numarContract: "231",
        dataContract: "12-12-2022",
        numeAgent: "Marcel",

        numeCompanie: "Apple Inc",
        cui: "432423",
        j: "4324",
        adresaSediu: "Strada caramida",
        telefonCompanie: "0752423523",
        faxCompanie: "0752423523",
        numeReprezentantLegal: "Georgel",
        calitateReprezentantLegat: "Avocat",
        ciSeria: "bt342",
        ciNumar: "432",
        cnp: "12345678901234",
        telefon: "0752861234",
        email: "test@gmail.com",
        metodaTrimitereFactura: "Select 1",
        metodaInformatiiPlata: "Select 2",
        numarContBancar: "RO0423423523523",
        banca: "BRD",
        sucursala: "Iasi 2",
        metodaPlata: "Select 1",
        garantii: "Cec încasabil în orice moment cu valoare de 6.000 RON",

        numeMagazin: "Caramizi bune",
        judet: "Iasi",
        localitate: "Iasi",
        adresa: "strada cu caramizi nr4",
        numarPunctLucru: "2",
      },
    },
    {
      id: "9",
      statusContract: "Nou",
      tipContract: {
        cui: "9143312",
        tip: "Contract standard",
      },
      dateContract: {
        numarContract: "231",
        dataContract: "12-12-2022",
        numeAgent: "Marcel",

        numeCompanie: "Apple Inc",
        cui: "432423",
        j: "4324",
        adresaSediu: "Strada caramida",
        telefonCompanie: "0752423523",
        faxCompanie: "0752423523",
        numeReprezentantLegal: "Georgel",
        calitateReprezentantLegat: "Avocat",
        ciSeria: "bt342",
        ciNumar: "432",
        cnp: "12345678901234",
        telefon: "0752861234",
        email: "test@gmail.com",
        metodaTrimitereFactura: "Select 1",
        metodaInformatiiPlata: "Select 2",
        numarContBancar: "RO0423423523523",
        banca: "BRD",
        sucursala: "Iasi 2",
        metodaPlata: "Select 1",
        garantii: "Cec încasabil în orice moment cu valoare de 6.000 RON",

        numeMagazin: "Caramizi bune",
        judet: "Iasi",
        localitate: "Iasi",
        adresa: "strada cu caramizi nr4",
        numarPunctLucru: "2",
      },
    },
  ],

  idFilterInputs: 1,
  statusCounts: {},
  typeCounts: {},
  perPage: 5,
  totalPages: 0,
  currentPage: 1,
  totalPagesArray: [],

  resultsArray: [],
});

export const getters = {
  getListContracts(state) {
    return state.listContracts;
  },

  getStatusCounts(state) {
    return state.statusCounts;
  },

  getTypeCounts(state) {
    return state.typeCounts;
  },

  getFilterByOption(state) {
    return state.resultsArray;
  },

  getSearchValue(state) {
    return state.searchContractsArray;
  },

  getCurrentPage(state) {
    return state.currentPage;
  },

  getPerPage(state) {
    return state.perPage;
  },
};

export const mutations = {
  setListContracts: (state, contract) => (state.listContracts = contract),

  setNewContract: (state, newContract) => (state.listContracts.push(newContract)),

  setPerPageBy: (state, perPageByValue) => {
    state.perPage = Number(perPageByValue);
    state.currentPage = 1;
  },
  setCurrentPage: (state, pageValue) =>
    (state.currentPage = pageValue == undefined ? 1 : pageValue),

  setCloneListContracts: (state, contract) =>
    (state.resultsArray = [...state.listContracts]),

  setSearchValue(state, searchValue) {
    if (searchValue) {
      state.resultsArray = state.listContracts.filter(
        (contract) =>
          contract.dateContract.numeCompanie
            .toLowerCase()
            .indexOf(searchValue) !== -1
      );
    } else {
      state.resultsArray = state.listContracts;
    }
  },

  setStatusCounts(state) {
    let statusArray = [];

    state.listContracts.forEach((item) => {
      statusArray.push(item.statusContract);
    });

    let uniqueElements = [...new Set(statusArray)];

    state.statusCounts = uniqueElements.map((value) => {
      return [
        state.idFilterInputs++,
        value,
        statusArray.filter((str) => str === value).length,
      ];
    });
  },

  setTypeCounts(state) {
    let typesArray = [];

    state.listContracts.forEach((item) => {
      typesArray.push(item.tipContract.tip);
    });

    let uniqueElements = [...new Set(typesArray)];

    state.typeCounts = uniqueElements.map((value) => {
      return [state.idFilterInputs++, value];
    });
  },

  setFilterByOption(state, filterByOptionData) {
    console.log(filterByOptionData, "filterByOptionData");
    if (filterByOptionData) {
      state.resultsArray = state.listContracts.filter(
        (contract) =>
          filterByOptionData.indexOf(contract.statusContract) !== -1 ||
          filterByOptionData.indexOf(contract.tipContract.tip) !== -1
      );
    } else {
      state.resultsArray = state.listContracts;
    }

    state.currentPage = 1;
  },

  setSortBy(state, sortByValue) {
    state.resultsArray = state.resultsArray.sort((a, b) => {
      if (sortByValue == "cui") {
        return b.tipContract.cui.localeCompare(a.tipContract.cui);
      } else if (sortByValue == "numeCompanie") {
        return a.dateContract.numeCompanie.localeCompare(
          b.dateContract.numeCompanie
        );
      } else {
        return a.dateContract.numarContract.localeCompare(
          b.dateContract.numarContract
        );
      }
    });
  },
};

export const actions = {
  sendFilterByOptionData({ commit, dispatch, state }, filterByOptionData) {
    commit("setFilterByOption", filterByOptionData);
  },

  sendSortByValue({ commit, dispatch, state }, sortByValue) {
    commit("setSortBy", sortByValue);
  },

  sendSearchValue({ commit, dispatch, state }, searchValue) {
    commit("setSearchValue", searchValue);
  },

  sendPageValue({ commit, dispatch, state }, pageValue) {
    commit("setCurrentPage", pageValue);
  },

  sendPerPageByValue({ commit, dispatch, state }, perPageByValue) {
    commit("setPerPageBy", perPageByValue);
  },

  sendNewContract({ commit, dispatch, state }, newContract) {
    commit("setNewContract", newContract);
  },
};
